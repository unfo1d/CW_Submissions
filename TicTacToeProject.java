/*
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########***+**++++==-=----::::.................::::::::------=========================------------::::.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########***+**+*+==------:::..................:::::::----==================================---------::::
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########***+**+++==------:::................:::::::----============++++++++++++++++============---------:
@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########***+***++==-----:::.................::::::---========++++++++++++++++++++++++++++===========------
@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%########***+**+*+==-----:::................::::::--======++++++++++++++++++++++++++++++++++++==========----
@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#######***+****++=------::...............::::::--======++++++++++++++++++++++++++++++++++++++++==========--
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%########**++***++=------::...............:::-::-=====+++++++++++++++*********+++++++++++++++++++++==========
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%########*#*+****+=------::..............:::--:--====++++++++++********************+++++++++++++++++==========
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%#######*#*+****+==-----::.:............:::--:-===+++++++++*************************++++++++++++++++==========
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%########*+****++=-=----:..............::---:-===++++++++****************************+++++++++++++++==========
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########*+****+===----:::............::---:-===+++++++*****************************++++++++++++++==========--
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%########*+****+===----:::............::-----==+++++++******************************++++++++++++++=========----
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########******+===----::............::-----==+++++++*****************************+++++++++++++=========-------
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%########*+#***+===----:::...........::----:==++++++*****************************+++++++++++==========--------::
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%########******+==-----::............:----:-==++++*****************************++++++++++++=========-------:::::
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#######*+*****+==----:::...........::----:==+++++**************************++++++++++=========-------::::::::..
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%########**#***+==-----:::..........::---=--=+++++***********************+++++++++++========--------:::::::......
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#######*+*#**++==----::::..........::--==--=+++++*********************++++++++++=======--------:::::::..........
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%########*+#***+==-----::............:---==:=++++++****************+++++++++++=======-------:::::::...............
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%#######*+*****+=------:............::--===:=++++++*************++++++++++========------:::::::...................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%########*+****++=---:-::............::--===:=++++++*********+++++++++++=======-------:::::........................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%#######**+****+==--::-::............:---===:=+++++++++++++++++++++========-------::::.............................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%########++*****+=--:::-:::...........:---===:-=++++++++++++++++========-------:::::................................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%########++****++=--:::::::...........:---===:-=+++++++++++++=======------:::::..................................:::
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%#########*++***++==--:::::::::.........:---===--==+++++++========-----:::::.................................:::::::::
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%########*++***+++==--::::::::..........:---===-:-============-----::::................................:::::::::::----
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%######**==+**+++=---::::::::..........:----===::========-----:::.................................:::::-:---------===
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%*####**+==+++++==--::::::::...........:---===-:.---------:::.................................:::::---------=========
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%########**+=-=+++===---::::::::..........::-------:::--::::.................................::::::--------=========+++++
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%#########*++=--=======---::::::............::-------::::..................................:::::---------======++++++++++++
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%#########*+=---=====-----:::::..............::::-::::..................................::::----------======++++++++++++++++
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%#########**=--::----=----::::::................:::.................................::::::---------=====+++++++++*************
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%#########**+=--::-------::::::....................................::.........::::::-----------=======++++++++******************
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%#######***+=-::::-------::::.....................................:::......::::::------------====++++++**************************
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%#######***+=-::::::::-::::::............................................:::--------------===++++++++******************************
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%######**++=-::::::::::::..............................................::-------------===++++++*************************************
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%#####**++==--::...::::::.........................................:::::---------=====+++**********************************************
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%####**+==---:::...::::............................:..............:::---------===++++************************************************++
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%#####*+==-:::::::::::::::................:::::::::::.............::::::::----==++++***************************************************+++
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%####**+==-::::::::-----:::::::.::::::::::------::::::::::::::::::..::::::::::--=+++*++************#**********************************++++==
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%###**+==-::::::-------------------======---------------------::::::::::::::::::-=++*****+****##***********#####*********************++++==-:
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%#####**+===----=====++=====-==================================----::::::::::::::::::=+***********##***##***##***********************++++==-:::-
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%#####****+++====++++++++++===++++++++++++++++++++++++++++++++++=====-----:::::::::-----=+**###*##*********************************++++==--:::--::
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%###***+++++++++++++++***+++++++++*****++*************+***********++++++++==--------====++++***######*#***==+++++++++*********+++++++==::::-----::..
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%###***+**++++++++++*******+++*************************************************++++++===+++*******++************+=-::::::---------::::::--------::.....
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%###*++++******+*++****************#####********************##################**********+++***+++======+++*++++++++++====================---::..........
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%#####***+++***************###***##########################################################*****++++=========----:::--------=======-------::................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%########****####################################################%%%%%%%%%%%%%%%###############***++===+++=+=--:::............................................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%#########################%%%%###*######################%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##########****+==+=====--::.................................::.........
@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%########%%%###%%######%%%%################%#########%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%######*++++====---:::::.................................::::::::
@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%###%%%%#%%%%%%#%%%%%%##%%%#######%%##%%%####%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#########*++====--::::::..........................:::::::::::::::
@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%######%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##########**+==---:::::::::::::::::::::::::::::::::::::::---===
@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%###%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%####*######***++=-------------:::::::::::::::::::---=======++
@@@@@@@@@@@@@@@@@@@%%%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###*****#####*****+++===-----------------====+++++++++++++
@@@@@@@@@@@@@@@@%%%%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#####***#####***********++++++++++++++++++++**+++++****
@@@@@@@@@@@@@%%%%%@%%%%%%%%%%%%@%%%%%%%%%%%%%%%%@@%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%####************************++++++++++++*******###
@@@@@@@@@@@@@@@@%%%%@@@@@%%%%%%%%%%%%%%@@%%%%%%@@@@%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%#######****++++++++++++++++*****#############
@@@@@@@@@@@@@@@@@@%%%@@@%%%%%%%%%%%%%%%%%@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%#######################################
@@@@@@@@@@@@@@@@@@%%%%%%%%@%%@@@%@@@@@@@@%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##########################
@@@@@@@@@@@@@@@@%%%@@@@@@@@@@@@@@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#############%#########%%%
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@@@@@@@@@@@@@@@@@@@@@@@@%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	
"Do not go gentle into that good night; Old age should burn and rave at close of day. Rage, rage against the dying of the light."	 
 */
import java.util.Scanner; 

//this is actually where the magic happens
public class TicTacTo 
{

   // i just used the same code from the love story project (really useful for colors)
   static final String RED = "\u001b[31;1m";
   static final String BLUE = "\u001b[36;1m";
   static final String RESET = "\u001B[0m";

   // 2D array which represents the 3x3 Tic-Tac-Toe board, initialized with spaces
   static char[][] board = 
   {
       {' ', ' ', ' '},
       {' ', ' ', ' '},
       {' ', ' ', ' '}
   };

   public static void main(String[] args) 
   {
       // creates scanner for user input
       Scanner scanner = new Scanner(System.in);

       // starts the game with player 'X' since it is better 
       char currentPlayer = 'X';

       // Boolean to track if the game has ended
       boolean gameEnded = false;

       // continues the game until there's a win or tie
       while (!gameEnded) 
       {
           // show the board before each turn
           printBoard();

           // prompts the current player to enter their move 
           System.out.println("Player " + getPlayerInput(currentPlayer) + ", enter your move (row and column: 1(space)1):");

           // reads the user's input
           int row = scanner.nextInt() - 1;
           int col = scanner.nextInt() - 1;

           // checks if the move is valid (within bounds and not already occupied)
           if (isValidMove(row, col)) 
           {
               // this places the current player's mark
               board[row][col] = currentPlayer;

               // checks if the current player has won
               if (checkWin(currentPlayer)) 
               {
                   // prints out the board
                   printBoard();

                   // prints out the winner of the game 
                   System.out.println("Player " + getPlayerInput(currentPlayer) + " wins!");
                   gameEnded = true;
               }
               // if the board is full, and no one won, the game is a tie
               else if (isBoardFull()) 
               {
                   // Show the final board
                   printBoard();

                   // Prints out the tie message because you somehow suck at tic tac toe
                   System.out.println("Tie, you both suck.");
                   gameEnded = true;
               }
               else 
               {
                   // Switch to the other player for the next turn
                   currentPlayer = (currentPlayer == 'X') ? 'O' : 'X';
               }
           } 
           else 
           {
               // Invalid move message if spot is taken or input is out of bounds
               System.out.println("Invalid move. Make sure space is empty");
           }
       }

       // Close the Scanner to avoid resource leak
       scanner.close();
   }

   // Method to print the current game board
   public static void printBoard() 
   {
       System.out.println("\nCurrent Board:");
       for (int i = 0; i < 3; i++) 
       {
           // Print each row
           System.out.print(" ");
           for (int j = 0; j < 3; j++) 
           {
               // Print the cell with color if applicable
               System.out.print(getPlayerInput(board[i][j]));

               // Print vertical separators
               if (j < 2) System.out.print(" | ");
           }
           // Move to the next line after each row
           System.out.println();

           // Print row separators
           if (i < 2) System.out.println("---+---+---");
       }
   }

   // this is for returning the colored representation of a player mark
   public static String getPlayerInput(char player) 
   {
       if (player == 'X') return RED + "X" + RESET; // Red for X
       if (player == 'O') return BLUE + "O" + RESET; // Blue for O
       return " "; // Blank space if no player
   }

   // this is to check if a move is valid (within bounds and space is empty)
   public static boolean isValidMove(int row, int col) {
       return (row >= 0 && row < 3) && (col >= 0 && col < 3) && board[row][col] == ' ';
   }

   // this is to check if the board is full (for tie)
   public static boolean isBoardFull() {
       for (int i = 0; i < 3; i++) {
           for (int j = 0; j < 3; j++) {
               // if any of the slots are empty, return false
               if (board[i][j] == ' ') return false;
           }
       }
       // all of the slots are filled
       return true;
   }

   // this is to check if the current player has won the game
   public static boolean checkWin(char player) {
       // Check all rows and columns
       for (int i = 0; i < 3; i++) {
           if ((board[i][0] == player && board[i][1] == player 
        	   && board[i][2] == player) || 
               (board[0][i] == player && board[1][i] == player 
               && board[2][i] == player)) { 
               return true;
           }
       }

       // this checks for both diagonals
       return (board[0][0] == player && board[1][1] == player 
    		   // Top-left to bottom-right
    		   && board[2][2] == player) || 
    		   // Top-right to bottom-left
              (board[0][2] == player && board[1][1] == player 
              && board[2][0] == player);  
   }
}

