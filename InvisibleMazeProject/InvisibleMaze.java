import java.util.Scanner;

public class InvisibleMaze {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        GameTile[][] board = new GameTile[5][10];
        Player player = new Player();
        int goalRow = 4;
        int goalCol = 9;
        boolean gameWon = false;
        final String YELLOW = "\u001B[33m";

        // Initialize board
        for (int r = 0; r < board.length; r++) {
            for (int c = 0; c < board[r].length; c++) {
                board[r][c] = new GameTile();
            }
        }

        // Set walls
        board[0][1].setIsWall(true);
        board[1][1].setIsWall(true);
        board[3][1].setIsWall(true);
        board[4][1].setIsWall(true);
        board[0][3].setIsWall(true);
        board[1][3].setIsWall(true);
        board[2][3].setIsWall(true);
        board[4][3].setIsWall(true);
        board[0][5].setIsWall(true);
        board[2][5].setIsWall(true);
        board[3][5].setIsWall(true);
        board[4][5].setIsWall(true);
        board[1][7].setIsWall(true);
        board[2][7].setIsWall(true);
        board[3][7].setIsWall(true);
        board[4][7].setIsWall(true);
        board[1][8].setIsWall(true);
        board[3][9].setIsWall(true);
        
        

        // Start position
        board[0][0].setHasPlayer(true);
        board[0][0].setIsRevealed(true);

        while (!gameWon) {
            printBoard(board);
            //THUMBS UP GOOD JOB 
            if (player.getRPos() == goalRow && player.getCPos() == goalCol) {
                System.out.println("\nCongratulations! You've reached the goal!");
                System.out.println(YELLOW + """                                                                                           
                		                                .. .-:+=------=+-:-..                                               
                		                                ..-:=------:....:-=.:..                                             
                		                                .-:=-----::.......-=.-                                              
                		                                :=----:::::::.......-=...                                           
                		                               .:+---::::::::::.....:+.:.                                           
                		                               .:=---:::::::::::.....+.-.                                           
                		                             . ::=---::::::::::::...:+.-.                                           
                		                            ...-+-----::::::::::::::-+...                                           
                		              .   ..:::--::--:--=------:::::::::::--=:-..                                           
                		               .-::======--===++=-------------------+....                                           
                		         ....-.===-::::::::::-----=+=--------------=.: ..                                           
                		       ....:==------------------------==----------=.:..                                             
                		   . ...:.+=----------------------------=+=-----+.=...     ..  .   ..     .                         
                		      :-==--------------------------::::::-===+.=.....   ..:=-:......:-=:.                          
                		   ..=.+----------------------------::::::.:-+.-.....-=.:=+----=***=---==+-..=....                  
                		   .--=-----------:::----:::---------::::::..-=--:::==-------+**####=------=-=+.:-...               
                		 ..-=-----------::::.::::::::::::----:::::::..:-=+-------::.*#*=:...=......------=:::. ..           
                		..--------------::::.::::::::::::::---::::::...-==---:.....#=:................:---===.-..           
                		.:.=-----------::::..::-=++-:::::::::--::::::...-+-:............................-***#-+.-...        
                		.:+----------:::::..:::::::::=+-::::::--::::::..:-=:::::::...::::.::...........:****##--=.:..       
                		::=---------::-:::::::::::::::::-==:::::--:::::..-+.:::::::::----:::::::::::::::::::=#+--=:-.  .    
                		-+--------::::::::::::::::::::::::::==::---::::..:=::::::::==+%%%#=-:::::::::::::::::-*----=:...    
                		:+--------::::::::::::::::::::::::::.:-+-----::..-+::::::--#%-::::=@-:::::::::::::::::-:----=.:.    
                		:=--------::::::::::::::::::::::::::...:-=--------+:::::--@::.....::#-::::::-====-=::::::----=.-    
                		:=--------::::::::::::::::::::::::::::...:-+-----+::::::-%....**:....%:::::--%@**%@*-::::-----=.: . 
                		:+--------:-:::::::::::::::::::::::::::....-=---+:::.::--=..#..==#...:-:::-+=:.....:#+-:::-----=:...
                		-=--------::::::.:+-:::::::::::::::::::::..:-==-----:::-+:.*=..@@=%...=:::-*..=+:....:@-::-------=..
                		:.=--------::::..:::::=+-:::::::::::::::::..:-+----:--=+-=.*=@@@@-%...-:::--+..*+%....:#--------=.:.
                		.:+----------::.:::::::::-+-:::::::::::::::..-=--::------:+-*+#.=*...=-:::--*..@@=#....=-----------.
                		...=--------:::::::::::::..:-+:::::-::::::::::=-:::::::----:=#%##...:+:::::+#*@@#+#....-=--------+..
                		..=-=---------::::::::::::::.:-=-:::---::::::-+---==-------:-::...::*-:::::--*=#:+=....-=--------=.-
                		  .--=----------::::::::::::::.:-=--------:--+----::::-==-::-::-::=+-:::::::---++:....:*------------
                	       ..-:=--------------::::::::::.:-=--------==----:::::--:::::::---::::::::::::*:..::-=====--------=:
                		   ...:+-----------------:::::::::-=-----=+-----:::::::--:::::::=::::::::::::::-*==--==-----------=:
                		    ...-:+--------------------:::::-+=----------::::::::=*-:::::-::::::::::::::-=----=------------=:
                		       ..=.+---------------------:-==------------::::::::#%-=:::::::::::::::::::::::----::--------::
                		       ....-.-+-------------------==-------------::::::::=@+.::+-:-::::::::::::::::--==--=-------=.-
                		           . .=.:+=-------------=+=:--------------:::::::-#@*..::::+=--------------+-------------+..
                		              ....-:.-=++++++=:.:==-::-------------:::::::=%@@.............:+%%+----:------------.-.
                		                      .. ...... ...=::::------------:::::::#@@@@=..........-%%=::---------------=...
                		                                ..:-=::::-------------:::::-#%%@@@%*-....-#%%=::---------------=.-..
                		                                 .-=-:::::-------------:-::=+=*%@@@%@@%%%%%*:-------------------...
                		                                . .:=-:.:::--------------:--=+=***%%%%%%%%#------------------:-.   
                		                                   .:+-:..:::---------------:=****++%%%%%%=-------------------.    
                		                                   ...--=:..:::-----------------+*****%%%#=----------------=:=..    
                		                                     ..-:=-..::::-----------------=+*##*=-----------------+.-. .    
                		                                   .  ...:==-..::::-------------------------------------=-.... .    
                		                                         .:.+=-..::::---------------------------------==.:..        
                		                                        ....::-==:::::------------------------------==.=.. .        
                		                                          . ..-:+-=::::--------------------------=:::.             
                		                                             ....:-:==---:---------------------=::=... .            
                		                                                    .-::-===------------===-.:-:..                  
                		                                                    .. .....:-::.......:::-:....                      
                """);
                gameWon = true;
                continue;
            }

            System.out.print("Find the exit in this invisible maze (W/A/S/D): ");
            String move = scanner.next().toUpperCase();
            int newRow = player.getRPos();
            int newCol = player.getCPos();

            if (move.equals("W")) {
                newRow--;
            } else if (move.equals("A")) {
                newCol--;
            } else if (move.equals("S")) {
                newRow++;
            } else if (move.equals("D")) {
                newCol++;
            } else {
                System.out.println("Invalid input.");
                continue;
            }

            if (newRow < 0 || newRow >= 5 || newCol < 0 || newCol >= 10) {
                System.out.println("Out of bounds.");
                continue;
            }

            GameTile nextTile = board[newRow][newCol];
            nextTile.setIsRevealed(true);

            if (nextTile.isWall()) {
                System.out.println("You bumped into a wall!");
            } else {
                board[player.getRPos()][player.getCPos()].setHasPlayer(false);
                board[player.getRPos()][player.getCPos()].setIsRevealed(true);

                player.setRPos(newRow);
                player.setCPos(newCol);
                board[newRow][newCol].setHasPlayer(true);
             
            }
        }

        scanner.close();
    }

    public static void printBoard(GameTile[][] board) {
        System.out.println();
        for (int r = 0; r < board.length; r++) {
            for (int c = 0; c < board[0].length; c++) {
                System.out.print(board[r][c].toString());
            }
            System.out.println();
        }
    }
}
	
